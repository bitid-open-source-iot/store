(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"+bmA":function(t,e,o){"use strict";o.d(e,"a",(function(){return g}));var i=o("3Pt+"),a=o("fXoL"),s=o("0IaG"),r=o("dWDE"),n=o("/t3+"),c=o("bTqV"),l=o("NFeN"),b=o("kmnG"),m=o("d3UM"),d=o("FKr1"),u=o("ofXK"),h=o("qFsG");function f(t,e){if(1&t&&(a.Vb(0,"mat-error",11),a.Bc(1),a.Ub()),2&t){const t=a.hc();a.Cb(1),a.Dc(" ",t.errors.role," ")}}function p(t,e){if(1&t&&(a.Vb(0,"mat-error",11),a.Bc(1),a.Ub()),2&t){const t=a.hc();a.Cb(1),a.Dc(" ",t.errors.email," ")}}let g=(()=>{class t{constructor(t,e){this.dialog=t,this.formerror=e,this.form=new i.e({role:new i.b(1,[i.s.required]),email:new i.b("",[i.s.required,i.s.email])}),this.errors={role:"",email:""},this.subscriptions={}}close(){this.dialog.close(!1)}submit(){this.dialog.close(this.form.value)}ngOnInit(){this.subscriptions.form=this.form.valueChanges.subscribe(t=>{this.errors=this.formerror.validateForm(this.form,this.errors,!0)})}ngOnDestroy(){this.subscriptions.form.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(a.Pb(s.d),a.Pb(r.a))},t.\u0275cmp=a.Jb({type:t,selectors:[["app-share-dialog"]],decls:27,vars:7,consts:[["color","primary"],[1,"page-title","spacer"],["mat-icon-button","",3,"click"],[3,"formGroup","ngSubmit"],["appearance","outline"],["text-uppercase",""],["name","role","placeholder","role","formControlName","role","required",""],[3,"value"],["align","start","class","form__error",4,"ngIf"],["matInput","","name","email","type","email","placeholder","email","formControlName","email","required",""],["type","submit","mat-flat-button","","color","primary"],["align","start",1,"form__error"]],template:function(t,e){1&t&&(a.Vb(0,"mat-toolbar",0),a.Vb(1,"div",1),a.Bc(2," share "),a.Ub(),a.Vb(3,"button",2),a.dc("click",(function(){return e.close()})),a.Vb(4,"mat-icon"),a.Bc(5," close "),a.Ub(),a.Ub(),a.Ub(),a.Vb(6,"form",3),a.dc("ngSubmit",(function(){return!e.form.invalid&&e.submit()})),a.Vb(7,"mat-form-field",4),a.Vb(8,"mat-label",5),a.Bc(9," Role "),a.Ub(),a.Vb(10,"mat-select",6),a.Vb(11,"mat-option",7),a.Bc(12," Read "),a.Ub(),a.Vb(13,"mat-option",7),a.Bc(14," Write "),a.Ub(),a.Vb(15,"mat-option",7),a.Bc(16," Read/Write "),a.Ub(),a.Vb(17,"mat-option",7),a.Bc(18," Admin "),a.Ub(),a.Ub(),a.Ac(19,f,2,1,"mat-error",8),a.Ub(),a.Vb(20,"mat-form-field",4),a.Vb(21,"mat-label",5),a.Bc(22," email "),a.Ub(),a.Qb(23,"input",9),a.Ac(24,p,2,1,"mat-error",8),a.Ub(),a.Vb(25,"button",10),a.Bc(26," share "),a.Ub(),a.Ub()),2&t&&(a.Cb(6),a.oc("formGroup",e.form),a.Cb(5),a.oc("value",1),a.Cb(2),a.oc("value",2),a.Cb(2),a.oc("value",3),a.Cb(2),a.oc("value",4),a.Cb(2),a.oc("ngIf",e.errors.role),a.Cb(5),a.oc("ngIf",e.errors.email))},directives:[n.a,c.a,l.a,i.t,i.m,i.f,b.c,b.g,m.a,i.l,i.d,i.r,d.n,u.m,h.b,i.a,b.b],styles:[""]}),t})()},"2ChS":function(t,e,o){"use strict";o.d(e,"a",(function(){return v})),o.d(e,"b",(function(){return S})),o.d(e,"c",(function(){return w})),o.d(e,"d",(function(){return k}));var i=o("rDax"),a=o("+rOU"),s=o("fXoL"),r=o("FKr1"),n=o("0MNC"),c=o("R0Ic"),l=o("ofXK"),b=o("cH1L"),m=o("XNiG"),d=o("VRyK"),u=o("LRne"),h=o("FtGj"),f=o("pLZG"),p=o("IzEk"),g=o("u47x");function _(t,e){}const v=new s.r("MatBottomSheetData");class C{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus=!1,this.restoreFocus=!0}}const O={bottomSheetState:Object(c.m)("state",[Object(c.j)("void, hidden",Object(c.k)({transform:"translateY(100%)"})),Object(c.j)("visible",Object(c.k)({transform:"translateY(0%)"})),Object(c.l)("visible => void, visible => hidden",Object(c.e)(`${r.b.COMPLEX} ${r.a.ACCELERATION_CURVE}`)),Object(c.l)("void => visible",Object(c.e)(`${r.b.EXITING} ${r.a.DECELERATION_CURVE}`))])};let y=(()=>{class t extends a.a{constructor(t,e,o,i,a,r){super(),this._elementRef=t,this._changeDetectorRef=e,this._focusTrapFactory=o,this.bottomSheetConfig=r,this._animationState="void",this._animationStateChanged=new s.o,this._elementFocusedBeforeOpened=null,this.attachDomPortal=t=>(this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachDomPortal(t)),this._document=a,this._breakpointSubscription=i.observe([n.b.Medium,n.b.Large,n.b.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",i.isMatched(n.b.Medium)),this._toggleClass("mat-bottom-sheet-container-large",i.isMatched(n.b.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",i.isMatched(n.b.XLarge))})}attachComponentPortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(t)}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"hidden"===t.toState?this._restoreFocus():"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_toggleClass(t,e){const o=this._elementRef.nativeElement.classList;e?o.add(t):o.remove(t)}_validatePortalAttached(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach bottom sheet content after content is already attached")}_setPanelClass(){const t=this._elementRef.nativeElement,e=this.bottomSheetConfig.panelClass;Array.isArray(e)?e.forEach(e=>t.classList.add(e)):e&&t.classList.add(e)}_trapFocus(){const t=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(t)),this.bottomSheetConfig.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{const e=this._document.activeElement;e===t||t.contains(e)||t.focus()}}_restoreFocus(){const t=this._elementFocusedBeforeOpened;if(this.bottomSheetConfig.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,o=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==o&&!o.contains(e)||t.focus()}this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._elementFocusedBeforeOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus())}}return t.\u0275fac=function(e){return new(e||t)(s.Pb(s.l),s.Pb(s.h),s.Pb(g.i),s.Pb(n.a),s.Pb(l.e,8),s.Pb(C))},t.\u0275cmp=s.Jb({type:t,selectors:[["mat-bottom-sheet-container"]],viewQuery:function(t,e){var o;1&t&&s.yc(a.b,!0),2&t&&s.rc(o=s.ec())&&(e._portalOutlet=o.first)},hostAttrs:["tabindex","-1","role","dialog","aria-modal","true",1,"mat-bottom-sheet-container"],hostVars:2,hostBindings:function(t,e){1&t&&s.Gb("@state.start",(function(t){return e._onAnimationStart(t)}))("@state.done",(function(t){return e._onAnimationDone(t)})),2&t&&(s.Db("aria-label",null==e.bottomSheetConfig?null:e.bottomSheetConfig.ariaLabel),s.Gc("@state",e._animationState))},features:[s.zb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&s.Ac(0,_,0,0,"ng-template",0)},directives:[a.b],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\n"],encapsulation:2,data:{animation:[O.bottomSheetState]},changeDetection:0}),t})(),w=(()=>{class t{}return t.\u0275mod=s.Nb({type:t}),t.\u0275inj=s.Mb({factory:function(e){return new(e||t)},imports:[[i.f,r.j,a.f],r.j]}),t})();class k{constructor(t,e,o){this._overlayRef=e,this._afterDismissed=new m.a,this._afterOpened=new m.a,this.containerInstance=t,this.disableClose=t.bottomSheetConfig.disableClose,t._animationStateChanged.pipe(Object(f.a)(t=>"done"===t.phaseName&&"visible"===t.toState),Object(p.a)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Object(f.a)(t=>"done"===t.phaseName&&"hidden"===t.toState),Object(p.a)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),e.dispose()}),e.detachments().pipe(Object(p.a)(1)).subscribe(()=>{this._afterDismissed.next(this._result),this._afterDismissed.complete()}),Object(d.a)(e.backdropClick(),e.keydownEvents().pipe(Object(f.a)(t=>t.keyCode===h.h))).subscribe(t=>{this.disableClose||"keydown"===t.type&&Object(h.t)(t)||(t.preventDefault(),this.dismiss())})}dismiss(t){this._afterDismissed.closed||(this.containerInstance._animationStateChanged.pipe(Object(f.a)(t=>"start"===t.phaseName),Object(p.a)(1)).subscribe(t=>{this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},t.totalTime+100),this._overlayRef.detachBackdrop()}),this._result=t,this.containerInstance.exit())}afterDismissed(){return this._afterDismissed.asObservable()}afterOpened(){return this._afterOpened.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}}const P=new s.r("mat-bottom-sheet-default-options");let S=(()=>{class t{constructor(t,e,o,i,a){this._overlay=t,this._injector=e,this._parentBottomSheet=o,this._location=i,this._defaultOptions=a,this._bottomSheetRefAtThisLevel=null}get _openedBottomSheetRef(){const t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}open(t,e){const o=function(t,e){return Object.assign(Object.assign({},t),e)}(this._defaultOptions||new C,e),i=this._createOverlay(o),r=this._attachContainer(i,o),n=new k(r,i,this._location);if(t instanceof s.M)r.attachTemplatePortal(new a.g(t,null,{$implicit:o.data,bottomSheetRef:n}));else{const e=new a.c(t,void 0,this._createInjector(o,n)),i=r.attachComponentPortal(e);n.instance=i.instance}return n.afterDismissed().subscribe(()=>{this._openedBottomSheetRef==n&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>n.containerInstance.enter()),this._openedBottomSheetRef.dismiss()):n.containerInstance.enter(),this._openedBottomSheetRef=n,n}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}_attachContainer(t,e){const o=new a.e(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[C,e]])),i=new a.c(y,e.viewContainerRef,o);return t.attach(i).instance}_createOverlay(t){const e=new i.d({direction:t.direction,hasBackdrop:t.hasBackdrop,disposeOnNavigation:t.closeOnNavigation,maxWidth:"100%",scrollStrategy:t.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0")});return t.backdropClass&&(e.backdropClass=t.backdropClass),this._overlay.create(e)}_createInjector(t,e){const o=t&&t.viewContainerRef&&t.viewContainerRef.injector,i=new WeakMap([[k,e],[v,t.data]]);return!t.direction||o&&o.get(b.b,null)||i.set(b.b,{value:t.direction,change:Object(u.a)()}),new a.e(o||this._injector,i)}}return t.\u0275fac=function(e){return new(e||t)(s.Zb(i.c),s.Zb(s.s),s.Zb(t,12),s.Zb(l.i,8),s.Zb(P,8))},t.\u0275prov=Object(s.Lb)({factory:function(){return new t(Object(s.Zb)(i.c),Object(s.Zb)(s.p),Object(s.Zb)(t,12),Object(s.Zb)(l.i,8),Object(s.Zb)(P,8))},token:t,providedIn:w}),t})()},"2xuv":function(t,e,o){"use strict";o.d(e,"a",(function(){return u}));var i=o("ofXK"),a=o("NFeN"),s=o("qFsG"),r=o("0IaG"),n=o("d3UM"),c=o("bTqV"),l=o("/t3+"),b=o("kmnG"),m=o("3Pt+"),d=o("fXoL");let u=(()=>{class t{}return t.\u0275mod=d.Nb({type:t}),t.\u0275inj=d.Mb({factory:function(e){return new(e||t)},imports:[[m.h,i.c,a.b,s.c,r.c,n.b,c.b,l.b,b.e,m.q]]}),t})()},CSBE:function(t,e,o){"use strict";o.d(e,"a",(function(){return d}));var i=o("ofXK"),a=o("NFeN"),s=o("0IaG"),r=o("d3UM"),n=o("bTqV"),c=o("/t3+"),l=o("kmnG"),b=o("3Pt+"),m=o("fXoL");let d=(()=>{class t{}return t.\u0275mod=m.Nb({type:t}),t.\u0275inj=m.Mb({factory:function(e){return new(e||t)},imports:[[b.h,i.c,a.b,s.c,r.b,n.b,c.b,l.e,b.q]]}),t})()},HqD8:function(t,e,o){"use strict";o.d(e,"a",(function(){return p}));var i=o("0IaG"),a=o("3Pt+"),s=o("fXoL"),r=o("dWDE"),n=o("WF9o"),c=o("/t3+"),l=o("bTqV"),b=o("NFeN"),m=o("kmnG"),d=o("d3UM"),u=o("FKr1"),h=o("ofXK");function f(t,e){if(1&t&&(s.Vb(0,"mat-error",10),s.Bc(1),s.Ub()),2&t){const t=s.hc();s.Cb(1),s.Dc(" ",t.errors.confirm," ")}}let p=(()=>{class t{constructor(t,e,o,i){this.data=t,this.dialog=e,this.formerror=o,this.localstorage=i,this.form=new a.e({confirm:new a.b(!1,[a.s.required])}),this.errors={confirm:""}}close(){this.dialog.close(!1)}submit(){this.dialog.close({email:this.localstorage.get("email")})}ngOnInit(){this.form.valueChanges.subscribe(t=>{this.errors=this.formerror.validateForm(this.form,this.errors,!0)})}}return t.\u0275fac=function(e){return new(e||t)(s.Pb(i.a),s.Pb(i.d),s.Pb(r.a),s.Pb(n.a))},t.\u0275cmp=s.Jb({type:t,selectors:[["app-unsubscribe-dialog"]],decls:20,vars:5,consts:[["color","primary"],[1,"label"],["spacer",""],["mat-icon-button","",3,"click"],[3,"formGroup","ngSubmit"],["appearance","outline"],["name","confirm","placeholder","Confirm","formControlName","confirm","required",""],[3,"value"],["align","start","class","form__error",4,"ngIf"],["type","submit","mat-flat-button","","color","primary",3,"disabled"],["align","start",1,"form__error"]],template:function(t,e){1&t&&(s.Vb(0,"mat-toolbar",0),s.Vb(1,"mat-toolbar-row"),s.Vb(2,"div",1),s.Bc(3," unsubscribe "),s.Ub(),s.Qb(4,"div",2),s.Vb(5,"button",3),s.dc("click",(function(){return e.close()})),s.Vb(6,"mat-icon"),s.Bc(7," close "),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(8,"form",4),s.dc("ngSubmit",(function(){return!e.form.invalid&&e.form.value.confirm&&e.submit()})),s.Vb(9,"mat-form-field",5),s.Vb(10,"mat-label"),s.Bc(11," Confirm "),s.Ub(),s.Vb(12,"mat-select",6),s.Vb(13,"mat-option",7),s.Bc(14," Yes, Unsubscribe From This! "),s.Ub(),s.Vb(15,"mat-option",7),s.Bc(16," No, Don't Unsubscribe From This! "),s.Ub(),s.Ub(),s.Ac(17,f,2,1,"mat-error",8),s.Ub(),s.Vb(18,"button",9),s.Bc(19," unsubscribe "),s.Ub(),s.Ub()),2&t&&(s.Cb(8),s.oc("formGroup",e.form),s.Cb(5),s.oc("value",!0),s.Cb(2),s.oc("value",!1),s.Cb(2),s.oc("ngIf",e.errors.confirm),s.Cb(1),s.oc("disabled",!e.form.value.confirm))},directives:[c.a,c.c,l.a,b.a,a.t,a.m,a.f,m.c,m.g,d.a,a.l,a.d,a.r,u.n,h.m,m.b],styles:["mat-toolbar[_ngcontent-%COMP%]{background-color:#000!important}mat-toolbar[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:100%;text-align:center;text-transform:uppercase}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:15px;text-transform:uppercase}"]}),t})()},KK9o:function(t,e,o){"use strict";o.d(e,"a",(function(){return f}));var i=o("3Pt+"),a=o("fXoL"),s=o("0IaG"),r=o("dWDE"),n=o("/t3+"),c=o("bTqV"),l=o("NFeN"),b=o("kmnG"),m=o("d3UM"),d=o("FKr1"),u=o("ofXK");function h(t,e){if(1&t&&(a.Vb(0,"mat-error",10),a.Bc(1),a.Ub()),2&t){const t=a.hc();a.Cb(1),a.Dc(" ",t.errors.confirm," ")}}let f=(()=>{class t{constructor(t,e){this.dialog=t,this.formerror=e,this.form=new i.e({confirm:new i.b(!1,[i.s.required])}),this.errors={confirm:""},this.subscriptions={}}close(){this.dialog.close(!1)}submit(){this.dialog.close(!0)}ngOnInit(){this.subscriptions.form=this.form.valueChanges.subscribe(t=>{this.errors=this.formerror.validateForm(this.form,this.errors,!0)})}ngOnDestroy(){this.subscriptions.form.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(a.Pb(s.d),a.Pb(r.a))},t.\u0275cmp=a.Jb({type:t,selectors:[["app-delete-dialog"]],decls:18,vars:5,consts:[["color","primary"],[1,"page-title","spacer"],["mat-icon-button","",3,"click"],[3,"formGroup","ngSubmit"],["appearance","outline"],["text-uppercase",""],["name","confirm","placeholder","Confirm","formControlName","confirm","required",""],[3,"value"],["align","start","class","form__error",4,"ngIf"],["type","submit","mat-flat-button","","color","primary",3,"disabled"],["align","start",1,"form__error"]],template:function(t,e){1&t&&(a.Vb(0,"mat-toolbar",0),a.Vb(1,"div",1),a.Bc(2," delete "),a.Ub(),a.Vb(3,"button",2),a.dc("click",(function(){return e.close()})),a.Vb(4,"mat-icon"),a.Bc(5," close "),a.Ub(),a.Ub(),a.Ub(),a.Vb(6,"form",3),a.dc("ngSubmit",(function(){return!e.form.invalid&&e.form.value.confirm&&e.submit()})),a.Vb(7,"mat-form-field",4),a.Vb(8,"mat-label",5),a.Bc(9," Confirm "),a.Ub(),a.Vb(10,"mat-select",6),a.Vb(11,"mat-option",7),a.Bc(12," Yes, Delete This! "),a.Ub(),a.Vb(13,"mat-option",7),a.Bc(14," No, Don't Delete This! "),a.Ub(),a.Ub(),a.Ac(15,h,2,1,"mat-error",8),a.Ub(),a.Vb(16,"button",9),a.Bc(17," delete "),a.Ub(),a.Ub()),2&t&&(a.Cb(6),a.oc("formGroup",e.form),a.Cb(5),a.oc("value",!0),a.Cb(2),a.oc("value",!1),a.Cb(2),a.oc("ngIf",e.errors.confirm),a.Cb(1),a.oc("disabled",!e.form.value.confirm))},directives:[n.a,c.a,l.a,i.t,i.m,i.f,b.c,b.g,m.a,i.l,i.d,i.r,d.n,u.m,b.b],styles:[""]}),t})()},jDep:function(t,e,o){"use strict";o.d(e,"a",(function(){return l}));var i=o("2ChS"),a=o("fXoL"),s=o("MutI"),r=o("ofXK"),n=o("NFeN");function c(t,e){if(1&t){const t=a.Wb();a.Vb(0,"mat-list-item",1),a.dc("click",(function(){a.uc(t);const o=e.$implicit,i=a.hc();return o.role>=o.scope&&i.select(o.option)})),a.Vb(1,"mat-icon",2),a.Bc(2),a.Ub(),a.Bc(3),a.Ub()}if(2&t){const t=e.$implicit;a.Fb("disabled",!(t.role>=t.scope)),a.Cb(1),a.oc("color",t.color),a.Cb(1),a.Dc(" ",t.icon," "),a.Cb(1),a.Dc(" ",t.title," ")}}let l=(()=>{class t{constructor(t,e){this.sheet=t,this.data=e,this.items=this.data.items,this.title=this.data.title}select(t){this.sheet.dismiss(t)}}return t.\u0275fac=function(e){return new(e||t)(a.Pb(i.d),a.Pb(i.a))},t.\u0275cmp=a.Jb({type:t,selectors:[["app-options-sheet"]],decls:4,vars:2,consts:[[3,"disabled","click",4,"ngFor","ngForOf"],[3,"click"],[3,"color"]],template:function(t,e){1&t&&(a.Vb(0,"h3"),a.Bc(1),a.Ub(),a.Vb(2,"mat-nav-list"),a.Ac(3,c,4,5,"mat-list-item",0),a.Ub()),2&t&&(a.Cb(1),a.Dc(" ",e.title,"\n"),a.Cb(2),a.oc("ngForOf",e.items))},directives:[s.d,r.l,s.b,n.a],styles:["h3[_ngcontent-%COMP%]{margin:10px;font-size:16px;text-align:left;line-height:16px;font-weight:500;text-transform:uppercase}mat-nav-list[_ngcontent-%COMP%]{padding-top:0!important}mat-nav-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]{border-bottom:1px solid #e0e0e0}mat-nav-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:15px}mat-nav-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]:last-child{border-bottom:none}mat-nav-list[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%], mat-nav-list[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:rgba(0,0,0,.38)!important}"]}),t})()},nFDT:function(t,e,o){"use strict";o.d(e,"a",(function(){return S}));var i=o("mrSG"),a=o("AytR"),s=o("+0xr"),r=o("0IaG"),n=o("fXoL"),c=o("9ZKQ"),l=o("/t3+"),b=o("bTqV"),m=o("NFeN"),d=o("ofXK"),u=o("bv9b"),h=o("d3UM"),f=o("3Pt+"),p=o("FKr1");function g(t,e){1&t&&n.Qb(0,"mat-progress-bar",11)}function _(t,e){1&t&&n.Qb(0,"mat-header-cell")}function v(t,e){if(1&t&&(n.Vb(0,"mat-cell"),n.Bc(1),n.Ub()),2&t){const t=e.$implicit;n.Cb(1),n.Dc(" ",t.email," ")}}function C(t,e){1&t&&n.Qb(0,"mat-header-cell")}function O(t,e){if(1&t&&(n.Vb(0,"mat-option",14),n.Bc(1),n.Ub()),2&t){const t=e.$implicit;n.oc("value",t.value)("disabled",5==t.value),n.Cb(1),n.Dc(" ",t.title," ")}}function y(t,e){if(1&t){const t=n.Wb();n.Vb(0,"mat-cell"),n.Vb(1,"mat-select",12),n.dc("ngModelChange",(function(o){return n.uc(t),e.$implicit.role=o}))("ngModelChange",(function(o){n.uc(t);const i=e.$implicit;return n.hc().update(i.email,o)})),n.Ac(2,O,2,3,"mat-option",13),n.Ub(),n.Ub()}if(2&t){const t=e.$implicit,o=n.hc();n.Cb(1),n.oc("ngModel",t.role)("disabled",o.role<4||t.role>=4&&o.role<5||t.role==o.role&&5==t.role),n.Cb(1),n.oc("ngForOf",o.roles)}}function w(t,e){1&t&&n.Qb(0,"mat-header-cell")}function k(t,e){if(1&t){const t=n.Wb();n.Vb(0,"mat-cell"),n.Vb(1,"button",15),n.dc("click",(function(){n.uc(t);const o=e.$implicit;return n.hc().remove(o.email)})),n.Vb(2,"mat-icon",16),n.Bc(3," remove "),n.Ub(),n.Ub(),n.Ub()}if(2&t){const t=e.$implicit,o=n.hc();n.Cb(1),n.oc("disabled",o.role<4||t.role>=4&&o.role<5||t.role==o.role&&5==t.role)}}function P(t,e){1&t&&n.Qb(0,"mat-row")}let S=(()=>{class t{constructor(t,e,o){this.data=t,this.dialog=e,this.toast=o,this.role=0,this.users=new s.n,this.roles=a.a.roles,this.columns=["email","role","remove"]}close(){this.dialog.close(!1)}get(){return Object(i.a)(this,void 0,void 0,(function*(){this.loading=!0;let t={filter:["role","users"],storeId:this.data.storeId};switch(this.data.type){case"store":break;case"courier":t.courierId=this.data.id;break;case"product":t.productId=this.data.id;break;case"supplier":t.supplierId=this.data.id;break;case"department":t.departmentId=this.data.id;break;case"collectionpoint":t.collectionpointId=this.data.id}const e=yield this.data.service.get(t);this.loading=!1,e.ok?(this.role=e.result.role,this.users.data=e.result.users):this.toast.error("There was an issue loading subscribers")}))}remove(t){return Object(i.a)(this,void 0,void 0,(function*(){this.loading=!0;let e={email:t,storeId:this.data.storeId};switch(this.data.type){case"store":break;case"courier":e.courierId=this.data.id;break;case"product":e.productId=this.data.id;break;case"supplier":e.supplierId=this.data.id;break;case"department":e.departmentId=this.data.id;break;case"collectionpoint":e.collectionpointId=this.data.id}const o=yield this.data.service.unsubscribe(e);if(this.loading=!1,o.ok){this.toast.success("User removed!");for(let e=0;e<this.users.data.length;e++)if(this.users.data[e].email==t){this.users.data.splice(e,1);break}this.users.data=JSON.parse(JSON.stringify(this.users.data))}else this.toast.error("There was an issue removing user!")}))}update(t,e){return Object(i.a)(this,void 0,void 0,(function*(){this.loading=!0;let o={role:e,email:t,storeId:this.data.storeId};switch(this.data.type){case"store":break;case"courier":o.courierId=this.data.id;break;case"product":o.productId=this.data.id;break;case"supplier":o.supplierId=this.data.id;break;case"department":o.departmentId=this.data.id;break;case"collectionpoint":o.collectionpointId=this.data.id}const i=yield this.data.service.updatesubscriber(o);this.loading=!1,i.ok?this.toast.success("User updated!"):this.toast.error("There was an issue updating user!")}))}ngOnInit(){this.get()}}return t.\u0275fac=function(e){return new(e||t)(n.Pb(r.a),n.Pb(r.d),n.Pb(c.a))},t.\u0275cmp=n.Jb({type:t,selectors:[["app-subscribers-dialog"]],decls:18,vars:3,consts:[["color","primary"],[1,"page-title","spacer"],["mat-icon-button","",3,"click"],["mode","indeterminate","color","accent",4,"ngIf"],[3,"dataSource"],["matColumnDef","email"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","role"],["matColumnDef","remove"],[4,"matRowDef","matRowDefColumns"],["mode","indeterminate","color","accent"],["required","",3,"ngModel","disabled","ngModelChange"],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"value","disabled"],["mat-icon-button","","color","warn",3,"disabled","click"],["aria-label","remove"]],template:function(t,e){1&t&&(n.Vb(0,"mat-toolbar",0),n.Vb(1,"div",1),n.Bc(2," subscribers "),n.Ub(),n.Vb(3,"button",2),n.dc("click",(function(){return e.close()})),n.Vb(4,"mat-icon"),n.Bc(5," close "),n.Ub(),n.Ub(),n.Ub(),n.Ac(6,g,1,0,"mat-progress-bar",3),n.Vb(7,"mat-table",4),n.Tb(8,5),n.Ac(9,_,1,0,"mat-header-cell",6),n.Ac(10,v,2,1,"mat-cell",7),n.Sb(),n.Tb(11,8),n.Ac(12,C,1,0,"mat-header-cell",6),n.Ac(13,y,3,3,"mat-cell",7),n.Sb(),n.Tb(14,9),n.Ac(15,w,1,0,"mat-header-cell",6),n.Ac(16,k,4,1,"mat-cell",7),n.Sb(),n.Ac(17,P,1,0,"mat-row",10),n.Ub()),2&t&&(n.Cb(6),n.oc("ngIf",e.loading),n.Cb(1),n.oc("dataSource",e.users),n.Cb(10),n.oc("matRowDefColumns",e.columns))},directives:[l.a,b.a,m.a,d.m,s.m,s.c,s.h,s.b,s.l,u.a,s.g,s.a,h.a,f.r,f.l,f.o,d.l,p.n,s.k],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-column-role[_ngcontent-%COMP%]{flex:0 100px}.mat-column-remove[_ngcontent-%COMP%]{flex:0 40px}"]}),t})()}}]);