(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{a1ig:function(t,e,i){"use strict";i.r(e),i.d(e,"ProductsModule",(function(){return St}));var o=i("ojfV"),r=i("2xuv"),n=i("+PXZ"),s=i("CSBE"),a=i("ofXK"),c=i("3lET"),l=i("NFeN"),d=i("MutI"),p=i("qFsG"),m=i("d3UM"),g=i("bTqV"),b=i("FKr1"),u=i("0IaG"),h=i("/t3+"),f=i("fXoL"),_=i("8LU1"),C=i("cH1L");const y=["*"],O=new f.r("MAT_GRID_LIST");let v=(()=>{class t{constructor(t,e){this._element=t,this._gridList=e,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(t){this._rowspan=Math.round(Object(_.f)(t))}get colspan(){return this._colspan}set colspan(t){this._colspan=Math.round(Object(_.f)(t))}_setStyle(t,e){this._element.nativeElement.style[t]=e}}return t.\u0275fac=function(e){return new(e||t)(f.Pb(f.l),f.Pb(O,8))},t.\u0275cmp=f.Jb({type:t,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(t,e){2&t&&f.Db("rowspan",e.rowspan)("colspan",e.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:y,decls:2,vars:0,consts:[[1,"mat-figure"]],template:function(t,e){1&t&&(f.nc(),f.Vb(0,"figure",0),f.mc(1),f.Ub())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}\n"],encapsulation:2,changeDetection:0}),t})();class I{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(t=>this._trackTile(t))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new w(this.rowIndex,e)}_findMatchingGap(t){if(t>this.tracker.length)throw Error(`mat-grid-list: tile with colspan ${t} is wider than grid with cols="${this.tracker.length}".`);let e=-1,i=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(i=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)))}while(i-e<t||0==i);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let i=0;i<e.colspan;i++)this.tracker[t+i]=e.rowspan}}class w{constructor(t,e){this.row=t,this.col=e}}const M=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class P{constructor(){this._rows=0,this._rowspan=0}init(t,e,i,o){this._gutterSize=S(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=i,this._direction=o}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":k(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,i){let o=100/this._cols,r=(this._cols-1)/this._cols;this.setColStyles(t,i,o,r),this.setRowStyles(t,e,o,r)}setColStyles(t,e,i,o){let r=this.getBaseTileSize(i,o);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(r,e)),t._setStyle("width",k(this.getTileSize(r,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class x extends P{constructor(t){super(),this.fixedRowHeight=t}init(t,e,i,o){if(super.init(t,e,i,o),this.fixedRowHeight=S(this.fixedRowHeight),!M.test(this.fixedRowHeight))throw Error(`Invalid value "${this.fixedRowHeight}" set as rowHeight.`)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",k(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",k(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}class V extends P{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,i,o){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,o),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",k(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",k(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(t=>{t._setStyle("marginTop",null),t._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");if(2!==e.length)throw Error(`mat-grid-list: invalid ratio given for row-height: "${t}"`);this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class U extends P{setRowStyles(t,e){let i=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(i,e)),t._setStyle("height",k(this.getTileSize(i,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}function k(t){return`calc(${t})`}function S(t){return t.match(/([A-Za-z%]+)$/)?t:t+"px"}let B=(()=>{class t{constructor(t,e){this._element=t,this._dir=e,this._gutter="1px"}get cols(){return this._cols}set cols(t){this._cols=Math.max(1,Math.round(Object(_.f)(t)))}get gutterSize(){return this._gutter}set gutterSize(t){this._gutter=""+(null==t?"":t)}get rowHeight(){return this._rowHeight}set rowHeight(t){const e=""+(null==t?"":t);e!==this._rowHeight&&(this._rowHeight=e,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){if(!this.cols)throw Error('mat-grid-list: must pass in number of columns. Example: <mat-grid-list cols="3">')}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(t){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===t?new U:t&&t.indexOf(":")>-1?new V(t):new x(t)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new I);const t=this._tileCoordinator,e=this._tiles.filter(t=>!t._gridList||t._gridList===this),i=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,e),this._tileStyler.init(this.gutterSize,t,this.cols,i),e.forEach((e,i)=>{const o=t.positions[i];this._tileStyler.setStyle(e,o.row,o.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(t){t&&(this._element.nativeElement.style[t[0]]=t[1])}}return t.\u0275fac=function(e){return new(e||t)(f.Pb(f.l),f.Pb(C.b,8))},t.\u0275cmp=f.Jb({type:t,selectors:[["mat-grid-list"]],contentQueries:function(t,e,i){var o;1&t&&f.Hb(i,v,!0),2&t&&f.rc(o=f.ec())&&(e._tiles=o)},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(t,e){2&t&&f.Db("cols",e.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[f.Bb([{provide:O,useExisting:t}])],ngContentSelectors:y,decls:2,vars:0,template:function(t,e){1&t&&(f.nc(),f.Vb(0,"div"),f.mc(1),f.Ub())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}\n"],encapsulation:2,changeDetection:0}),t})(),z=(()=>{class t{}return t.\u0275mod=f.Nb({type:t}),t.\u0275inj=f.Mb({factory:function(e){return new(e||t)},imports:[[b.i,b.g],b.i,b.g]}),t})();var q=i("kmnG"),T=i("2ChS"),A=i("bv9b"),R=i("mrSG"),$=i("+bmA"),H=i("KK9o"),D=i("IQQo"),j=i("nFDT"),F=i("HqD8"),E=i("jDep"),N=i("d3yR"),G=i("9ZKQ"),L=i("X849"),Q=i("tyNb"),J=i("wPrS"),W=i("sC6t");function K(t,e){1&t&&f.Qb(0,"mat-progress-bar",8)}function X(t,e){if(1&t&&(f.Vb(0,"small"),f.Bc(1),f.ic(2,"currency"),f.Ub()),2&t){const t=f.hc().$implicit;f.Cb(1),f.Cc(f.kc(2,1,t.price,"R"))}}function Z(t,e){if(1&t){const t=f.Wb();f.Vb(0,"mat-list-item",9),f.dc("click",(function(){f.uc(t);const i=e.$implicit;return f.hc().options(i)})),f.Vb(1,"button",10),f.dc("click",(function(i){f.uc(t);const o=e.$implicit;return f.hc().ToggleVisability(i,o)})),f.Vb(2,"mat-icon"),f.Bc(3),f.Ub(),f.Ub(),f.Qb(4,"img",11),f.Vb(5,"section"),f.Vb(6,"h3"),f.Bc(7),f.Ub(),f.Vb(8,"p"),f.Bc(9),f.ic(10,"currency"),f.ic(11,"currency"),f.Ac(12,X,3,4,"small",12),f.Ub(),f.Ub(),f.Ub()}if(2&t){const t=e.$implicit;f.Cb(3),f.Dc(" ",t.visible?"visibility":"visibility_off"," "),f.Cb(1),f.oc("src",t.image,f.vc)("alt",t.title),f.Cb(3),f.Dc(" ",t.title," "),f.Cb(1),f.Fb("promotion",t.promotion.enabled),f.Cb(1),f.Dc(" ",t.promotion.enabled?f.kc(10,8,t.promotion.price,"R"):f.kc(11,11,t.price,"R")," "),f.Cb(3),f.oc("ngIf",t.promotion.enabled)}}const Y=function(t){return{mode:"add",storeId:t}};let tt=(()=>{class t{constructor(t,e,i,o,r,n,s){this.menu=t,this.toast=e,this.sheet=i,this.dialog=o,this.products=r,this.route=n,this.router=s,this.filter="",this.subscriptions={}}list(){return Object(R.a)(this,void 0,void 0,(function*(){this.loading=!0;const t=yield this.products.list({filter:["role","image","title","price","visible","storeId","promotion","productId"]});this.products.data=t.ok?t.result:[],this.loading=!1}))}options(t){return Object(R.a)(this,void 0,void 0,(function*(){const e=yield this.sheet.open(E.a,{data:{items:[{role:t.role,icon:"edit",scope:3,title:"Edit",option:1},{role:t.role,icon:"file_copy",scope:3,title:"Copy",option:2},{role:t.role,icon:"share",scope:4,title:"Share",option:3},{role:t.role,icon:"people",scope:4,title:"Subscribers",option:4},{role:t.role,icon:"remove",scope:1,color:"warn",title:"Unsubscribe",option:5},{role:t.role,icon:"delete",scope:5,color:"warn",title:"Delete",option:6}],title:t.title}});yield e.afterDismissed().subscribe(e=>Object(R.a)(this,void 0,void 0,(function*(){if(e)switch(e){case 1:this.router.navigate(["/products","editor"],{queryParams:{mode:"update",storeId:this.storeId,productId:t.productId}});break;case 2:this.router.navigate(["/products","editor"],{queryParams:{mode:"copy",storeId:this.storeId,productId:t.productId}});break;case 3:const e=yield this.dialog.open($.a,{panelClass:"share-dialog"});yield e.afterClosed().subscribe(e=>Object(R.a)(this,void 0,void 0,(function*(){if(e){this.loading=!0;const i=yield this.products.share({role:e.role,email:e.email,storeId:this.storeId,productId:t.productId});i.ok?this.toast.success("user was shared!"):this.toast.error(i.error.message),this.loading=!1}})));break;case 4:this.dialog.open(j.a,{data:{id:t.productId,type:"product",storeId:this.storeId,service:this.products},panelClass:"subscribers-dialog"});break;case 5:const i=yield this.dialog.open(F.a,{panelClass:"unsubscribe-dialog"});yield i.afterClosed().subscribe(e=>Object(R.a)(this,void 0,void 0,(function*(){if(e){this.loading=!0;const e=yield this.products.unsubscribe({storeId:this.storeId,productId:t.productId});e.ok?this.toast.success("you were unsubscribed from product!"):this.toast.error(e.error.message),this.loading=!1}})));break;case 6:const o=yield this.dialog.open(H.a,{panelClass:"delete-dialog"});yield o.afterClosed().subscribe(e=>Object(R.a)(this,void 0,void 0,(function*(){if(e){this.loading=!0;const e=yield this.products.delete({storeId:this.storeId,productId:t.productId});e.ok?this.toast.success("product was deleted!"):this.toast.error(e.error.message),this.loading=!1}})))}})))}))}ToggleVisability(t,e){return Object(R.a)(this,void 0,void 0,(function*(){t.stopPropagation(),this.loading=!0;const i=yield this.products.update({visible:!e.visible,storeId:this.storeId,productId:e.productId});i.ok?e.visible=!e.visible:this.toast.error(i.error.message),this.loading=!1}))}ngOnInit(){this.subscriptions.route=this.route.queryParams.subscribe(t=>{void 0!==t.storeId&&null!=t.storeId&&""!=t.storeId?(this.storeId=t.storeId,this.list()):this.router.navigate(["/stores"])}),this.subscriptions.search=this.search.change.subscribe(t=>{this.filter=t})}ngOnDestroy(){this.subscriptions.route.unsubscribe(),this.subscriptions.search.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(f.Pb(N.a),f.Pb(G.a),f.Pb(T.b),f.Pb(u.b),f.Pb(L.a),f.Pb(Q.a),f.Pb(Q.c))},t.\u0275cmp=f.Jb({type:t,selectors:[["app-products-page"]],viewQuery:function(t,e){var i;1&t&&f.yc(D.a,!0),2&t&&f.rc(i=f.ec())&&(e.search=i.first)},decls:16,vars:12,consts:[["color","primary"],["mat-icon-button","",1,"menu-toggle",3,"click"],[1,"page-title","spacer"],["placeholder","search products"],["mat-icon-button","","routerLink","editor",3,"queryParams"],["mode","indeterminate",4,"ngIf"],[1,"page-body"],["matRipple","",3,"click",4,"ngFor","ngForOf"],["mode","indeterminate"],["matRipple","",3,"click"],["mat-icon-button","","color","primary",1,"select",3,"click"],[3,"src","alt"],[4,"ngIf"]],template:function(t,e){1&t&&(f.Vb(0,"mat-toolbar",0),f.Vb(1,"button",1),f.dc("click",(function(){return e.menu.toggle()})),f.Vb(2,"mat-icon"),f.Bc(3," menu "),f.Ub(),f.Ub(),f.Vb(4,"label",2),f.Bc(5," Products "),f.Ub(),f.Qb(6,"search",3),f.Vb(7,"button",4),f.Vb(8,"mat-icon"),f.Bc(9," add "),f.Ub(),f.Ub(),f.Ub(),f.Ac(10,K,1,0,"mat-progress-bar",5),f.Vb(11,"div",6),f.Vb(12,"mat-list"),f.Ac(13,Z,13,14,"mat-list-item",7),f.ic(14,"filterBy"),f.ic(15,"orderBy"),f.Ub(),f.Ub()),2&t&&(f.Cb(7),f.oc("queryParams",f.qc(10,Y,e.storeId)),f.Cb(3),f.oc("ngIf",e.loading),f.Cb(3),f.oc("ngForOf",f.lc(14,3,f.kc(15,7,e.products.data,"title"),"title",e.filter)))},directives:[h.a,g.a,l.a,D.a,Q.d,a.l,d.a,a.k,A.a,d.b,b.o],pipes:[J.a,W.a,a.d],styles:["mat-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]{flex:1 auto;cursor:pointer;display:flex;align-items:center;border-bottom:1px solid #e0e0e0;flex-direction:row}mat-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:15px}mat-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:15px;border-radius:4px}mat-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{display:flex;text-transform:uppercase;flex-direction:column}mat-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], mat-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:0}mat-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:2px 0;font-size:12px;line-height:12px;font-weight:500}mat-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px;line-height:10px}mat-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{text-decoration:line-through}mat-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .promotion[_ngcontent-%COMP%]{color:#2196f3}mat-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .promotion[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#000}"]}),t})();var et=i("AytR"),it=i("3Pt+"),ot=i("5mtf"),rt=i("ZVi7"),nt=i("G0b6"),st=i("WF9o"),at=i("dWDE");function ct(t,e){1&t&&f.Qb(0,"mat-progress-bar",36)}function lt(t,e){if(1&t){const t=f.Wb();f.Vb(0,"mat-grid-tile",37),f.dc("click",(function(){return f.uc(t),f.hc().upload()})),f.Vb(1,"mat-icon"),f.Bc(2," add "),f.Ub(),f.Ub()}}function dt(t,e){if(1&t){const t=f.Wb();f.Vb(0,"mat-grid-tile"),f.Vb(1,"button",38),f.dc("click",(function(){f.uc(t);const i=e.$implicit;return f.hc().SetMain(i)})),f.Vb(2,"mat-icon",39),f.Bc(3),f.Ub(),f.Ub(),f.Vb(4,"button",40),f.dc("click",(function(){f.uc(t);const i=e.i;return f.hc().images.splice(i,1)})),f.Vb(5,"mat-icon",41),f.Bc(6," delete "),f.Ub(),f.Ub(),f.Ub()}if(2&t){const t=e.$implicit;f.zc("background-image","url("+t.src+")",f.Ib),f.Cb(3),f.Dc(" ",t.main?"star":"star_border"," ")}}function pt(t,e){1&t&&(f.Vb(0,"mat-error"),f.Bc(1," You must have at least one image "),f.Ub())}function mt(t,e){if(1&t&&(f.Vb(0,"mat-error"),f.Bc(1),f.Ub()),2&t){const t=f.hc();f.Cb(1),f.Dc(" ",t.errors.title," ")}}function gt(t,e){if(1&t&&(f.Vb(0,"mat-error"),f.Bc(1),f.Ub()),2&t){const t=f.hc();f.Cb(1),f.Dc(" ",t.errors.visible," ")}}function bt(t,e){if(1&t&&(f.Vb(0,"mat-error"),f.Bc(1),f.Ub()),2&t){const t=f.hc();f.Cb(1),f.Dc(" ",t.errors.description," ")}}function ut(t,e){if(1&t&&(f.Vb(0,"mat-error"),f.Bc(1),f.Ub()),2&t){const t=f.hc();f.Cb(1),f.Dc(" ",t.errors.organizationOnly," ")}}function ht(t,e){if(1&t&&(f.Vb(0,"mat-error"),f.Bc(1),f.Ub()),2&t){const t=f.hc();f.Cb(1),f.Dc(" ",t.errors.type," ")}}function ft(t,e){if(1&t&&(f.Vb(0,"mat-option",15),f.Bc(1),f.Ub()),2&t){const t=e.$implicit;f.oc("value",t.supplierId),f.Cb(1),f.Dc(" ",t.description," ")}}function _t(t,e){if(1&t&&(f.Vb(0,"mat-error"),f.Bc(1),f.Ub()),2&t){const t=f.hc();f.Cb(1),f.Dc(" ",t.errors.supplierId," ")}}function Ct(t,e){if(1&t&&(f.Vb(0,"mat-option",15),f.Bc(1),f.Ub()),2&t){const t=e.$implicit;f.oc("value",t.departmentId),f.Cb(1),f.Dc(" ",t.description," ")}}function yt(t,e){if(1&t&&(f.Vb(0,"mat-error"),f.Bc(1),f.Ub()),2&t){const t=f.hc();f.Cb(1),f.Dc(" ",t.errors.departments," ")}}function Ot(t,e){if(1&t&&(f.Vb(0,"mat-error"),f.Bc(1),f.Ub()),2&t){const t=f.hc();f.Cb(1),f.Dc(" ",t.errors.cost," ")}}function vt(t,e){if(1&t&&(f.Vb(0,"mat-error"),f.Bc(1),f.Ub()),2&t){const t=f.hc();f.Cb(1),f.Dc(" ",t.errors.price," ")}}function It(t,e){if(1&t&&(f.Vb(0,"mat-error"),f.Bc(1),f.Ub()),2&t){const t=f.hc();f.Cb(1),f.Dc(" ",t.errors.promotion.enabled," ")}}function wt(t,e){if(1&t&&(f.Vb(0,"mat-error"),f.Bc(1),f.Ub()),2&t){const t=f.hc();f.Cb(1),f.Dc(" ",t.errors.promotion.price," ")}}function Mt(t,e){if(1&t&&(f.Vb(0,"mat-option",15),f.Bc(1),f.Ub()),2&t){const t=e.$implicit;f.oc("value",t.productId),f.Cb(1),f.Dc(" ",t.title," ")}}function Pt(t,e){if(1&t&&(f.Vb(0,"mat-error"),f.Bc(1),f.Ub()),2&t){const t=f.hc();f.Cb(1),f.Dc(" ",t.errors.links," ")}}const xt=function(){return{standalone:!0}};function Vt(t,e){if(1&t){const t=f.Wb();f.Vb(0,"tr"),f.Vb(1,"th"),f.Vb(2,"input",42),f.dc("ngModelChange",(function(i){return f.uc(t),e.$implicit.title=i})),f.Ub(),f.Ub(),f.Vb(3,"td"),f.Vb(4,"input",43),f.dc("ngModelChange",(function(i){return f.uc(t),e.$implicit.value=i})),f.Ub(),f.Ub(),f.Vb(5,"td"),f.Vb(6,"button",44),f.dc("click",(function(){f.uc(t);const i=e.i;return f.hc().info.splice(i,1)})),f.Vb(7,"mat-icon"),f.Bc(8," remove "),f.Ub(),f.Ub(),f.Ub(),f.Ub()}if(2&t){const t=e.$implicit;f.Cb(2),f.oc("ngModel",t.title)("ngModelOptions",f.pc(4,xt)),f.Cb(2),f.oc("ngModel",t.value)("ngModelOptions",f.pc(5,xt))}}const Ut=[{path:"",component:tt},{path:"editor",component:(()=>{class t{constructor(t,e,i,o,r,n,s,a){this.route=t,this.toast=e,this.history=i,this.service=o,this._suppliers=r,this._departments=n,this.localstorage=s,this.formerror=a,this.form=new it.d({promotion:new it.d({price:new it.b(0,[it.q.required,it.q.min(0)]),enabled:new it.b(!1,[it.q.required])}),cost:new it.b(0,[it.q.required,it.q.min(0)]),type:new it.b("pyhsical",[it.q.required]),links:new it.b([]),title:new it.b(null,[it.q.required]),price:new it.b(0,[it.q.required,it.q.min(0)]),visible:new it.b(!0,[it.q.required]),supplierId:new it.b(null,[it.q.required]),departments:new it.b([],[it.q.required]),description:new it.b(null,[it.q.required]),organizationOnly:new it.b(1,[it.q.required])}),this.errors={promotion:{price:"",enabled:""},cost:"",type:"",links:"",title:"",price:"",visible:"",supplierId:"",departments:"",description:"",organizationOnly:""},this.info=[],this.images=[],this.products=[],this.infoItem={},this.suppliers=[],this.departments=[],this.subscriptions={}}get(){return Object(R.a)(this,void 0,void 0,(function*(){this.loading=!0;const t=yield this.service.get({filter:["role","info","cost","type","links","title","price","images","visible","storeId","productId","promotion","supplierId","departments","description","organizationOnly"],storeId:this.storeId,productId:this.productId});if(t.ok){t.result.role<3&&this.history.back(),this.info=t.result.info,this.images=t.result.images;const e=this.form.controls.promotion;e.controls.price.setValue(t.result.promotion.price),e.controls.enabled.setValue(t.result.promotion.enabled),this.form.controls.cost.setValue(t.result.cost),this.form.controls.type.setValue(t.result.type),this.form.controls.links.setValue(t.result.links),this.form.controls.title.setValue(t.result.title),this.form.controls.price.setValue(t.result.price),this.form.controls.visible.setValue(t.result.visible),this.form.controls.supplierId.setValue(t.result.supplierId),this.form.controls.departments.setValue(t.result.departments),this.form.controls.description.setValue(t.result.description),this.form.controls.organizationOnly.setValue(t.result.organizationOnly)}else this.toast.error(t.error.message);this.loading=!1}))}load(){return Object(R.a)(this,void 0,void 0,(function*(){this.loading=!0;const t=yield this.service.list({filter:["title","productId"],storeId:this.storeId});t.ok&&(this.products=t.result);const e=yield this._suppliers.list({filter:["supplierId","description"],storeId:this.storeId});e.ok&&(this.suppliers=e.result);const i=yield this._departments.list({filter:["description","departmentId"],storeId:this.storeId});i.ok&&(this.departments=i.result),this.loading=!1}))}submit(){return Object(R.a)(this,void 0,void 0,(function*(){this.loading=!0;let t=this.mode;"copy"==t&&(t="add",delete this.productId);const e=yield this.service[t]({info:this.info,cost:this.form.value.cost,type:this.form.value.type,links:this.form.value.links,title:this.form.value.title,price:this.form.value.price,images:this.images,visible:this.form.value.visible,storeId:this.storeId,productId:this.productId,promotion:this.form.value.promotion,supplierId:this.form.value.supplierId,departments:this.form.value.departments,description:this.form.value.description,organizationOnly:this.form.value.organizationOnly});e.ok?(this.toast.success("product was updated!"),this.history.back()):this.toast.error(e.error.message),this.loading=!1}))}upload(){return Object(R.a)(this,void 0,void 0,(function*(){const t=document.createElement("input");t.type="file",t.accept="image/*",t.click(),t.onchange=t=>Object(R.a)(this,void 0,void 0,(function*(){this.uploading=!0;const e=[et.a.drive,"/drive/files/upload?email=",this.localstorage.get("email"),"&appId=",et.a.appId].join(""),i=new FormData,o=new XMLHttpRequest;for(var r=0;r<t.target.files.length;r++)i.append("uploads[]",t.target.files[r],t.target.files[r].name);o.onreadystatechange=t=>{if(4==o.readyState)if(200==o.status){const t=JSON.parse(o.response);this.images.push({src:[et.a.drive,"/drive/files/get?fileId=",t.fileId,"&token=",t.token].join(""),main:0==this.images.length,positon:this.images.length}),this.uploading=!1}else this.toast.error("issue uploading image!"),this.uploading=!1},o.open("POST",e,!0),o.setRequestHeader("Authorization",this.localstorage.get("token")),o.send(i)}))}))}SetMain(t){return Object(R.a)(this,void 0,void 0,(function*(){this.images.map(e=>{e.main=!1,t.src==e.src&&(e.main=!0)})}))}AddInfo(){return Object(R.a)(this,void 0,void 0,(function*(){this.info.push(this.infoItem),this.infoItem={}}))}ngOnInit(){this.subscriptions.form=this.form.valueChanges.subscribe(t=>{this.errors=this.formerror.validateForm(this.form,this.errors,!0)}),this.subscriptions.route=this.route.queryParams.subscribe(t=>Object(R.a)(this,void 0,void 0,(function*(){this.mode=t.mode,this.storeId=t.storeId,this.productId=t.productId,yield this.load(),"add"!=this.mode&&(yield this.get())})))}ngOnDestroy(){this.subscriptions.form.unsubscribe(),this.subscriptions.route.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(f.Pb(Q.a),f.Pb(G.a),f.Pb(ot.a),f.Pb(L.a),f.Pb(rt.a),f.Pb(nt.a),f.Pb(st.a),f.Pb(at.a))},t.\u0275cmp=f.Jb({type:t,selectors:[["app-product-editor-page"]],decls:118,vars:45,consts:[["color","primary"],["mat-icon-button","",1,"menu-toggle",3,"click"],[1,"page-title","spacer"],["mode","indeterminate",4,"ngIf"],[1,"page-body"],[3,"formGroup","ngSubmit"],[1,"images"],["cols","3","rowHeight","1:1","gutterSize","5px"],["matRipple","",3,"click",4,"ngIf"],[3,"background-image",4,"ngFor","ngForOf"],[4,"ngIf"],["appearance","outline"],["text-uppercase",""],["matInput","","type","text","name","title","placeholder","title","formControlName","title","required",""],["name","visible","placeholder","visibility","formControlName","visible","required",""],[3,"value"],["name","description","rows","5","matInput","","matTextareaAutosize","","placeholder","description","formControlName","description","required",""],["name","organizationOnly","placeholder","Sharing Rules","formControlName","organizationOnly","required",""],["name","type","placeholder","Product Type","formControlName","type","required",""],["value","virtual"],["value","physical"],["name","supplierId","placeholder","supplier","formControlName","supplierId","required",""],[3,"value",4,"ngFor","ngForOf"],["name","departments","placeholder","departments","formControlName","departments","required","","multiple",""],["matInput","","type","number","min","0","name","cost","placeholder","cost price","formControlName","cost","required",""],["matInput","","type","number","min","0","name","price","placeholder","listing price","formControlName","price","required",""],["formGroupName","promotion"],["name","enabled","placeholder","promotion","formControlName","enabled","required",""],["matInput","","type","number","min","0","name","price","placeholder","promotion price","formControlName","price","required",""],["name","links","placeholder","links","formControlName","links","multiple",""],["ngNoForm",""],[4,"ngFor","ngForOf"],["matInput","","type","title","name","text","placeholder","info title",3,"ngModel","ngModelOptions","ngModelChange"],["matInput","","type","value","name","text","placeholder","info value",3,"ngModel","ngModelOptions","ngModelChange"],["type","button","mat-icon-button","",3,"disabled","click"],["type","submit","mat-flat-button","","color","primary"],["mode","indeterminate"],["matRipple","",3,"click"],["mat-icon-button","",1,"main",3,"click"],["color","accent"],["mat-icon-button","",1,"remove",3,"click"],["color","warn"],["matInput","","type","title","name","text","placeholder","info title","required","",3,"ngModel","ngModelOptions","ngModelChange"],["matInput","","type","value","name","text","placeholder","info value","required","",3,"ngModel","ngModelOptions","ngModelChange"],["type","button","mat-icon-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(f.Vb(0,"mat-toolbar",0),f.Vb(1,"button",1),f.dc("click",(function(){return e.history.back()})),f.Vb(2,"mat-icon"),f.Bc(3," arrow_back "),f.Ub(),f.Ub(),f.Vb(4,"label",2),f.Bc(5," product editor "),f.Ub(),f.Ub(),f.Ac(6,ct,1,0,"mat-progress-bar",3),f.Vb(7,"div",4),f.Vb(8,"form",5),f.dc("ngSubmit",(function(){return!e.form.invalid&&e.images.length>0&&!e.loading&&e.submit()})),f.Vb(9,"div",6),f.Vb(10,"label"),f.Bc(11," images * "),f.Ub(),f.Vb(12,"mat-grid-list",7),f.Ac(13,lt,3,0,"mat-grid-tile",8),f.Ac(14,dt,7,3,"mat-grid-tile",9),f.Ub(),f.Ac(15,pt,2,0,"mat-error",10),f.Ub(),f.Vb(16,"mat-form-field",11),f.Vb(17,"mat-label",12),f.Bc(18," title "),f.Ub(),f.Qb(19,"input",13),f.Ac(20,mt,2,1,"mat-error",10),f.Ub(),f.Vb(21,"mat-form-field",11),f.Vb(22,"mat-label",12),f.Bc(23," visibility "),f.Ub(),f.Vb(24,"mat-select",14),f.Vb(25,"mat-option",15),f.Bc(26," Visible "),f.Ub(),f.Vb(27,"mat-option",15),f.Bc(28," Hidden "),f.Ub(),f.Ub(),f.Ac(29,gt,2,1,"mat-error",10),f.Ub(),f.Vb(30,"mat-form-field",11),f.Vb(31,"mat-label",12),f.Bc(32," description "),f.Ub(),f.Qb(33,"textarea",16),f.Ac(34,bt,2,1,"mat-error",10),f.Ub(),f.Vb(35,"mat-form-field",11),f.Vb(36,"mat-label",12),f.Bc(37," Sharing Rules "),f.Ub(),f.Vb(38,"mat-select",17),f.Vb(39,"mat-option",15),f.Bc(40," Share To Anyone "),f.Ub(),f.Vb(41,"mat-option",15),f.Bc(42," Share In Organization "),f.Ub(),f.Ub(),f.Ac(43,ut,2,1,"mat-error",10),f.Ub(),f.Vb(44,"mat-form-field",11),f.Vb(45,"mat-label",12),f.Bc(46," Product Type "),f.Ub(),f.Vb(47,"mat-select",18),f.Vb(48,"mat-option",19),f.Bc(49," Virtual "),f.Ub(),f.Vb(50,"mat-option",20),f.Bc(51," Physical "),f.Ub(),f.Ub(),f.Ac(52,ht,2,1,"mat-error",10),f.Ub(),f.Vb(53,"mat-form-field",11),f.Vb(54,"mat-label",12),f.Bc(55," supplier "),f.Ub(),f.Vb(56,"mat-select",21),f.Ac(57,ft,2,2,"mat-option",22),f.ic(58,"orderBy"),f.Ub(),f.Ac(59,_t,2,1,"mat-error",10),f.Ub(),f.Vb(60,"mat-form-field",11),f.Vb(61,"mat-label",12),f.Bc(62," departments "),f.Ub(),f.Vb(63,"mat-select",23),f.Ac(64,Ct,2,2,"mat-option",22),f.ic(65,"orderBy"),f.Ub(),f.Ac(66,yt,2,1,"mat-error",10),f.Ub(),f.Vb(67,"h2"),f.Bc(68," pricing & promotions "),f.Ub(),f.Vb(69,"mat-form-field",11),f.Vb(70,"mat-label",12),f.Bc(71," cost price (R) "),f.Ub(),f.Qb(72,"input",24),f.Ac(73,Ot,2,1,"mat-error",10),f.Ub(),f.Vb(74,"mat-form-field",11),f.Vb(75,"mat-label",12),f.Bc(76," listing price (R) "),f.Ub(),f.Qb(77,"input",25),f.Ac(78,vt,2,1,"mat-error",10),f.Ub(),f.Vb(79,"section",26),f.Vb(80,"mat-form-field",11),f.Vb(81,"mat-label",12),f.Bc(82," promotion "),f.Ub(),f.Vb(83,"mat-select",27),f.Vb(84,"mat-option",15),f.Bc(85," Enabled "),f.Ub(),f.Vb(86,"mat-option",15),f.Bc(87," Disabled "),f.Ub(),f.Ub(),f.Ac(88,It,2,1,"mat-error",10),f.Ub(),f.Vb(89,"mat-form-field",11),f.Vb(90,"mat-label",12),f.Bc(91," promotion price (R) "),f.Ub(),f.Qb(92,"input",28),f.Ac(93,wt,2,1,"mat-error",10),f.Ub(),f.Ub(),f.Vb(94,"h2"),f.Bc(95," people also buy section "),f.Ub(),f.Vb(96,"mat-form-field",11),f.Vb(97,"mat-label",12),f.Bc(98," links "),f.Ub(),f.Vb(99,"mat-select",29),f.Ac(100,Mt,2,2,"mat-option",22),f.ic(101,"orderBy"),f.Ub(),f.Ac(102,Pt,2,1,"mat-error",10),f.Ub(),f.Vb(103,"h2"),f.Bc(104," product info & warranty "),f.Ub(),f.Vb(105,"table",30),f.Ac(106,Vt,9,6,"tr",31),f.Vb(107,"tr"),f.Vb(108,"th"),f.Vb(109,"input",32),f.dc("ngModelChange",(function(t){return e.infoItem.title=t})),f.Ub(),f.Ub(),f.Vb(110,"td"),f.Vb(111,"input",33),f.dc("ngModelChange",(function(t){return e.infoItem.value=t})),f.Ub(),f.Ub(),f.Vb(112,"td"),f.Vb(113,"button",34),f.dc("click",(function(){return e.AddInfo()})),f.Vb(114,"mat-icon"),f.Bc(115," add "),f.Ub(),f.Ub(),f.Ub(),f.Ub(),f.Ub(),f.Vb(116,"button",35),f.Bc(117," submit "),f.Ub(),f.Ub(),f.Ub()),2&t&&(f.Cb(6),f.oc("ngIf",e.loading),f.Cb(2),f.oc("formGroup",e.form),f.Cb(1),f.Fb("error",0==e.images.length),f.Cb(4),f.oc("ngIf",e.images.length<3),f.Cb(1),f.oc("ngForOf",e.images),f.Cb(1),f.oc("ngIf",0==e.images.length),f.Cb(5),f.oc("ngIf",e.errors.title),f.Cb(5),f.oc("value",!0),f.Cb(2),f.oc("value",!1),f.Cb(2),f.oc("ngIf",e.errors.visible),f.Cb(5),f.oc("ngIf",e.errors.description),f.Cb(5),f.oc("value",0),f.Cb(2),f.oc("value",1),f.Cb(2),f.oc("ngIf",e.errors.organizationOnly),f.Cb(9),f.oc("ngIf",e.errors.type),f.Cb(5),f.oc("ngForOf",f.kc(58,34,e.suppliers,"description")),f.Cb(2),f.oc("ngIf",e.errors.supplierId),f.Cb(5),f.oc("ngForOf",f.kc(65,37,e.departments,"description")),f.Cb(2),f.oc("ngIf",e.errors.departments),f.Cb(7),f.oc("ngIf",e.errors.cost),f.Cb(5),f.oc("ngIf",e.errors.price),f.Cb(6),f.oc("value",!0),f.Cb(2),f.oc("value",!1),f.Cb(2),f.oc("ngIf",e.errors.promotion.enabled),f.Cb(5),f.oc("ngIf",e.errors.promotion.price),f.Cb(7),f.oc("ngForOf",f.kc(101,40,e.products,"title")),f.Cb(2),f.oc("ngIf",e.errors.links),f.Cb(4),f.oc("ngForOf",e.info),f.Cb(3),f.oc("ngModel",e.infoItem.title)("ngModelOptions",f.pc(43,xt)),f.Cb(2),f.oc("ngModel",e.infoItem.value)("ngModelOptions",f.pc(44,xt)),f.Cb(2),f.oc("disabled",!e.infoItem.title||!e.infoItem.value))},directives:[h.a,g.a,l.a,a.l,it.r,it.k,it.e,B,a.k,q.c,q.g,p.a,it.a,it.j,it.c,it.p,m.a,b.k,p.c,it.n,it.f,it.m,A.a,v,b.o,q.b],pipes:[W.a],styles:["form[_ngcontent-%COMP%]{width:400px;margin:10px auto}form[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]{border:1px solid #e0e0e0;padding:5px;position:relative;margin-top:2px;margin-bottom:25px;border-radius:4px}form[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{top:-4px;left:4px;padding:0 4px;position:absolute;font-size:10px;line-height:10px;text-transform:uppercase;background-color:#fafafa}form[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   mat-grid-list[_ngcontent-%COMP%]   mat-grid-tile[_ngcontent-%COMP%]{border-radius:4px;background-size:contain;background-repeat:no-repeat;background-position:50%}form[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   mat-grid-list[_ngcontent-%COMP%]   mat-grid-tile[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{top:0;right:0;position:absolute}form[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   mat-grid-list[_ngcontent-%COMP%]   mat-grid-tile[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]{top:0;left:0;position:absolute}form[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]{left:10px;bottom:-20px;position:absolute;font-size:11px;line-height:11px}form[_ngcontent-%COMP%]   .images.error[_ngcontent-%COMP%]{border:2px solid red;margin-top:1px}form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:14px;line-height:14px;margin:0 0 5px;text-transform:uppercase}form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border:1px solid #e0e0e0;text-align:left;border-radius:4px;margin-bottom:25px}form[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:12px;line-height:12px;border-bottom:1px solid #e0e0e0}form[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-transform:uppercase}form[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   th[_ngcontent-%COMP%]{border-bottom:none}@media screen and (max-width:420px){form[_ngcontent-%COMP%]{width:calc(100% - 20px);margin:10px}}"]}),t})()}];let kt=(()=>{class t{}return t.\u0275mod=f.Nb({type:t}),t.\u0275inj=f.Mb({factory:function(e){return new(e||t)},imports:[[Q.f.forChild(Ut)],Q.f]}),t})(),St=(()=>{class t{}return t.\u0275mod=f.Nb({type:t}),t.\u0275inj=f.Mb({factory:function(e){return new(e||t)},imports:[[it.g,o.a,r.a,c.a,n.a,s.a,a.c,l.b,d.c,p.b,m.b,g.b,b.p,u.c,h.b,z,q.e,it.o,T.c,A.b,kt]]}),t})()}}]);