function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"Tw+5":function(e,t,r){"use strict";r.r(t),r.d(t,"VerifyAccountModule",(function(){return _}));var n=r("ofXK"),i=r("NFeN"),o=r("qFsG"),a=r("d3UM"),c=r("bTqV"),s=r("/t3+"),u=r("kmnG"),m=r("Xa2L"),b=r("mrSG"),l=r("3Pt+"),f=r("fXoL"),d=r("tyNb"),p=r("9ZKQ"),h=r("5mtf"),g=r("IRyT"),v=r("dWDE");function y(e,t){if(1&e&&(f.Ub(0,"mat-error"),f.Ac(1),f.Tb()),2&e){var r=f.gc();f.Bb(1),f.Cc(" ",r.errors.email," ")}}function k(e,t){if(1&e&&(f.Ub(0,"mat-error"),f.Ac(1),f.Tb()),2&e){var r=f.gc();f.Bb(1),f.Cc(" ",r.errors.code," ")}}function C(e,t){1&e&&f.Pb(0,"mat-progress-spinner",11)}var w,x,O,P=[{path:"",component:(w=function(){function e(t,r,n,i,o,a){_classCallCheck(this,e),this.route=t,this.toast=r,this.router=n,this.history=i,this.service=o,this.formerror=a,this.form=new l.d({code:new l.b("",[l.q.required,l.q.min(1e5),l.q.max(999999),l.q.minLength(6),l.q.maxLength(6)]),email:new l.b("",[l.q.email,l.q.required])}),this.errors={code:"",email:""},this.subscriptions={}}return _createClass(e,[{key:"back",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.history.back();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"submit",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,this.form.disable(),e.next=3,this.service.verify({code:this.form.value.code,email:this.form.value.email});case 3:t=e.sent,this.form.enable(),this.loading=!1,t.ok?this.router.navigate(["/signin"],{replaceUrl:!0}):this.toast.error(t.error.message);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"ngOnInit",value:function(){var e=this;this.subscriptions.form=this.form.valueChanges.subscribe((function(t){e.errors=e.formerror.validateForm(e.form,e.errors,!0)})),this.subscriptions.route=this.route.queryParams.subscribe((function(t){void 0!==t.code&&e.form.controls.code.setValue(t.code),void 0!==t.email&&e.form.controls.email.setValue(t.email),e.form.invalid||e.submit()}))}},{key:"ngOnDestroy",value:function(){this.subscriptions.form.unsubscribe(),this.subscriptions.route.unsubscribe()}}]),e}(),w.\u0275fac=function(e){return new(e||w)(f.Ob(d.a),f.Ob(p.a),f.Ob(d.c),f.Ob(h.a),f.Ob(g.a),f.Ob(v.a))},w.\u0275cmp=f.Ib({type:w,selectors:[["app-verify-account"]],decls:22,vars:5,consts:[["mat-icon-button","",1,"close-button",3,"click"],[3,"formGroup","ngSubmit"],["src","./assets/icons/icon-512x512.png","alt","Auth Icon"],["appearance","outline"],["text-uppercase",""],["matInput","","type","email","name","email","placeholder","email","formControlName","email","required",""],[4,"ngIf"],["matInput","","type","number","name","code","placeholder","code","formControlName","code","required",""],["type","submit","mat-flat-button","","color","primary"],["class","mat-spinner-negative","mode","indeterminate","diameter","30",4,"ngIf"],["type","button","mat-stroked-button","","color","primary","routerLink","/signin"],["mode","indeterminate","diameter","30",1,"mat-spinner-negative"]],template:function(e,t){1&e&&(f.Ub(0,"button",0),f.cc("click",(function(){return t.back()})),f.Ub(1,"mat-icon"),f.Ac(2," close "),f.Tb(),f.Tb(),f.Ub(3,"form",1),f.cc("ngSubmit",(function(){return!t.form.invalid&&!t.loading&&t.submit()})),f.Pb(4,"img",2),f.Ub(5,"mat-form-field",3),f.Ub(6,"mat-label",4),f.Ac(7," Email "),f.Tb(),f.Pb(8,"input",5),f.zc(9,y,2,1,"mat-error",6),f.Tb(),f.Ub(10,"mat-form-field",3),f.Ub(11,"mat-label",4),f.Ac(12," Verification Code "),f.Tb(),f.Pb(13,"input",7),f.Ub(14,"mat-hint"),f.Ac(15," Check your email for code! "),f.Tb(),f.zc(16,k,2,1,"mat-error",6),f.Tb(),f.Ub(17,"button",8),f.Ac(18),f.zc(19,C,1,0,"mat-progress-spinner",9),f.Tb(),f.Ub(20,"button",10),f.Ac(21," sign in "),f.Tb(),f.Tb()),2&e&&(f.Bb(3),f.nc("formGroup",t.form),f.Bb(6),f.nc("ngIf",t.errors.email),f.Bb(7),f.nc("ngIf",t.errors.code),f.Bb(2),f.Cc(" ",t.loading?"":"verify"," "),f.Bb(1),f.nc("ngIf",t.loading))},directives:[c.a,i.a,l.r,l.k,l.e,u.c,u.g,o.a,l.a,l.j,l.c,l.p,n.n,l.n,u.f,d.d,u.b,m.a],styles:["img[_ngcontent-%COMP%]{width:100px;display:block;margin:25px auto}form[_ngcontent-%COMP%]{width:400px;margin:auto}form[_ngcontent-%COMP%]   [mat-stroked-button][_ngcontent-%COMP%]{margin-top:20px}.close-button[_ngcontent-%COMP%]{top:8px;right:16px;z-index:10;position:fixed}@media screen and (max-width:420px){form[_ngcontent-%COMP%]{width:calc(100% - 20px)}}"]}),w)}],T=((O=function e(){_classCallCheck(this,e)}).\u0275mod=f.Mb({type:O}),O.\u0275inj=f.Lb({factory:function(e){return new(e||O)},imports:[[d.g.forChild(P)],d.g]}),O),_=((x=function e(){_classCallCheck(this,e)}).\u0275mod=f.Mb({type:x}),x.\u0275inj=f.Lb({factory:function(e){return new(e||x)},imports:[[l.g,n.c,i.b,o.b,c.b,a.b,s.b,u.e,l.o,m.b,T]]}),x)}}]);